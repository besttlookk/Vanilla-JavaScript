<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Cookies</h1>

    <form action="#" name='myform' method="POST">
        Name : <input type="text" name="name"><br><br>
        Email : <input type="email" name="email"><br><br>
        Language : <input type="text" name="lang"><br><br>
        <input type='button' value="Set cookie" name='set' onclick="setCookies()">
        <input type='button' value="Get cookie" name='get' onclick="getCookies()">

    </form>
    <!-- A cookie is a small piece of text set by web server that resided on the client's machine. Once its been set, the client automatically returns the cookie to the web server with each request that it makes. This allow the server to place values it wishes to 'remember' in the cookie, and have access to them when creating a response. -->

    <!--  Types of cookies -->
    <!-- 1. Session Cookies: cookies that are set without the expires field are called session cookies. It is destroyed when the user quits the browser -->

    <!-- 2. Persistent Cookies: The browser keeps it up until their expiration date is reached -->


    <!-- JS Cookies -->
    <!-- Cookies are exposed as the "cookie " property of the Document object. This property is both readable and writeable -->

    <!-- Creating cookies -->
    <!-- When we assign a string to document.cookie, the browser parses it as a cookies and adds it to its list of cookies. -->
    <!-- There are sevral parts to each cookies, many are optional -->

    <!-- --syntax -->
    <!-- document.cookie = 'name= value' -->
    <!-- document.cookie = 'name= value; expires= date; domain=domain; path=path; secure; '-->
    <!-- document.cookie = 'name= value; max-age=inSecond; domain=domain; path=path; secure; '-->


    <!--NOTE  -->
    <!-- name-value pair must not contain any whitespace character, commas or semi-comma -->


    <!-- Optional cookies attribute: max-age/expires/ domain/path/ secure -->

    <!-- Whenever we omit the optionl cookie fields, the browser fills them in authomaticallt with reasonable defaults -->

    <script>
        // document.cookie = 'username=besttlookk'
        // document.cookie = 'username=besttlookk; max-age=' + 60*60*24*10   // persistent cookie
        // document.cookie = 'username=besttlookk; expires=Mon, 3-sep-2020 09:00:00 UTC'   // persistent cookie
        //document.cookie="username=John Doe; expires=Thu, 18 Dec 2020 12:00:00 UTC; path=/";
        // ---------------------------domain
        // It specifies the domain for which the cookie is valid. If not specified, this defaults to the host portions of the current document location. If a domain is specified, subdoamins are always included

        // Ex: doument.cookie = 'username=best; domain=best.com'      it is also available for note.best.com or code.best.com
        //but if it is define for specided domain...it is accessble for parent domain


        //---------------------path
        // Path can be /(root) or /mydir(directory). if not specifird, default to the current path of the current documnet location, as wll as its descendants
        // ex: document.cookie = 'username=best; path=/';  available for all sub directoty
        // ex: document.cookie = 'username=best; path=/home';  not available for parent(/root)


        // --------------------------secure
        //cookie to only be transmitted over secure protocol as https. 
        
        
        
        //------------------------------------ read cookie
        // alert(document.cookie);
        // console.log(document.cookie);


        // =====================================replace/append coomkie========================================================
        // when we assign a new cookie value to document.cookie, the current cookie are not replaced.
        //the new cookie is parshed and its name-value pair is appended to the list.
        //The exception is when you assign a new cookie with the same name(and same domain and path, if they exist) as a cookie that already exists. 
        //In this case the odd value is replaced with the new.

        // ---same name so it will replace
        // // document.cookie = 'username=besttlookk'; 
        // document.cookie = 'username=new'; 


        //----append--
        //  document.cookie = 'username=besttlookk'; 
        // document.cookie = 'newname=new'; 


        // ===================================reading cookie===========================================================================
        //we can read cookie by document.cookie.
        //the problem occurs when we need the specific part of cookie to perform some action.

        // document.cookie ='username=besttlookk'
        // document.cookie ='password=password4662'
        // document.cookie ='email=besttlookk@gmail.com'
        // console.log(document.cookie)


        // function setCookies() {
        //     document.cookie = "name=" + document.myform.name.value
        //     document.cookie = "email=" + document.myform.email.value
        //     document.cookie = "language=" + document.myform.lang.value
        // }

        // function getCookies() {
        //     var cookiesArray = document.cookie;
        //     console.log(cookiesArray)
        //     array = cookiesArray.split(';')
        //     console.log(array)
        //     array.forEach(element => {
        //         console.log(element)
        //         var elm = element.split('=')
        //         console.log(elm)
        //         if(elm[0].trim() == 'name') {
        //             document.myform.name.value =elm[1]
        //         }
        //         else if(elm[0].trim() == 'email') {
        //             document.myform.email.value =elm[1]
        //         }
        //         else if(elm[0].trim() == 'language') {
        //             document.myform.lang.value =elm[1]
        //         }
        //     });

        
        // }


        // ================================================Deleting Cookies=======================================================
        // A cookie is deleted by setting a cookie with the same name (and domain and path, if they were set) with an expiration date in the past andif using max-age then must set a negative value.

    </script>
</body>
</html>